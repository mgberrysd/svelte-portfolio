import{m as I,ae as L,as as j,at as x,au as B,av as M,aq as P,aw as U,ax as p,i as O,j as S,n as $,d as g,ay as G,az as K}from"./C3M68kN4.js";import{a as W}from"./CcGG-fbs.js";const D=()=>performance.now(),l={tick:t=>requestAnimationFrame(t),now:()=>D(),tasks:new Set};function q(t){l.tasks.forEach(a=>{a.c(t)||(l.tasks.delete(a),a.f())}),l.tasks.size!==0&&l.tick(q)}function H(t){let a;return l.tasks.size===0&&l.tick(q),{promise:new Promise(i=>{l.tasks.add(a={c:t,f:i})}),abort(){l.tasks.delete(a)}}}function N(t,a){t.dispatchEvent(new CustomEvent(a))}function J(t){if(t==="float")return"cssFloat";if(t==="offset")return"cssOffset";if(t.startsWith("--"))return t;const a=t.split("-");return a.length===1?a[0]:a[0]+a.slice(1).map(i=>i[0].toUpperCase()+i.slice(1)).join("")}function R(t){const a={},i=t.split(";");for(const r of i){const[f,c]=r.split(":");if(!f||c===void 0)break;const u=J(f.trim());a[u]=c.trim()}return a}const Q=t=>t;function Z(t,a,i,r){var f=(t&G)!==0,c=(t&K)!==0,u=f&&c,T=(t&M)!==0,k=u?"both":f?"in":"out",h,v=a.inert,n,e;function b(){var s=$,y=I;O(null),S(null);try{return h??(h=i()(a,(r==null?void 0:r())??{},{direction:k}))}finally{O(s),S(y)}}var m={is_global:T,in(){var s;if(a.inert=v,!f){e==null||e.abort(),(s=e==null?void 0:e.reset)==null||s.call(e);return}c||n==null||n.abort(),N(a,"introstart"),n=A(a,b(),e,1,()=>{N(a,"introend"),n==null||n.abort(),n=h=void 0})},out(s){if(!c){s==null||s(),h=void 0;return}a.inert=!0,N(a,"outrostart"),e=A(a,b(),n,0,()=>{N(a,"outroend"),s==null||s()})},stop:()=>{n==null||n.abort(),e==null||e.abort()}},o=I;if((o.transitions??(o.transitions=[])).push(m),f&&W){var _=T;if(!_){for(var d=o.parent;d&&(d.f&L)!==0;)for(;(d=d.parent)&&(d.f&j)===0;);_=!d||(d.f&x)!==0}_&&B(()=>{g(()=>m.in())})}}function A(t,a,i,r,f){var c=r===1;if(P(a)){var u,T=!1;return U(()=>{if(!T){var _=a({direction:c?"in":"out"});u=A(t,_,i,r,f)}}),{abort:()=>{T=!0,u==null||u.abort()},deactivate:()=>u.deactivate(),reset:()=>u.reset(),t:()=>u.t()}}if(i==null||i.deactivate(),!(a!=null&&a.duration))return f(),{abort:p,deactivate:p,reset:p,t:()=>r};const{delay:k=0,css:h,tick:v,easing:n=Q}=a;var e=[];if(c&&i===void 0&&(v&&v(0,1),h)){var b=R(h(0,1));e.push(b,b)}var m=()=>1-r,o=t.animate(e,{duration:k});return o.onfinish=()=>{var _=(i==null?void 0:i.t())??1-r;i==null||i.abort();var d=r-_,s=a.duration*Math.abs(d),y=[];if(s>0){if(h)for(var F=Math.ceil(s/16.666666666666668),w=0;w<=F;w+=1){var C=_+d*n(w/F),z=h(C,1-C);y.push(R(z))}m=()=>{var E=o.currentTime;return _+d*n(E/s)},v&&H(()=>{if(o.playState!=="running")return!1;var E=m();return v(E,1-E),!0})}o=t.animate(y,{duration:s,fill:"forwards"}),o.onfinish=()=>{m=()=>r,v==null||v(r,1-r),f()}},{abort:()=>{o&&(o.cancel(),o.effect=null,o.onfinish=p)},deactivate:()=>{f=p},reset:()=>{r===0&&(v==null||v(1,0))},t:()=>m()}}const V=t=>t;function aa(t,{delay:a=0,duration:i=400,easing:r=V}={}){const f=+getComputedStyle(t).opacity;return{delay:a,duration:i,easing:r,css:c=>`opacity: ${c*f}`}}export{aa as f,Z as t};
